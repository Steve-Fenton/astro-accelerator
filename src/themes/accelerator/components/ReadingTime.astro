---
// warning: This file is overwritten by Astro Accelerator

import { Accelerator } from 'astro-accelerator-utils';
import type { Frontmatter } from 'astro-accelerator-utils/types/Frontmatter';
import { SITE } from '@config';
import { Translations, Lang } from '@util/Languages';

const accelerator = new Accelerator(SITE);
const stats = new accelerator.statistics(
    'accelerator/components/ReadingTime.astro'
);
stats.start();

// Properties
type Props = {
    lang: string;
    frontmatter: Frontmatter;
};
const { lang, frontmatter } = Astro.props satisfies Props;

// Language
const _ = Lang(lang);

// Logic
const readingTimeText =
    frontmatter?.readingTime === 1
        ? _(Translations.post.reading_time_one_minute).replace(
              '{n}',
              frontmatter.readingTime
          )
        : _(Translations.post.reading_time_many_minutes).replace(
              '{n}',
              frontmatter.readingTime
          );

stats.stop();
---

{
    frontmatter?.readingTime && (
        <span class="reading-time" set:html={readingTimeText} />
    )
}
